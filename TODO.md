# 第1期待做工作，有助于演示的功能

* 合并user信息模型和information信息模型。合并后的模型叫write-set信息模型。合并后，order端仅存在1个version表，仅有1个待分配的序列号(aloc-id)；peer端只有 word-state表，history表，区块表（包括区块索引）。
* 用户注册时，在生成的用户uuid分为 __长uuid__ 和 __短uuid__ ，其中，长uuid中包括用户存放在服务端秘钥的URL，短uuid仅包含order分配给用户的aloc-id。在cc中发起提案时，使用短uuid；在访问api接口时，使用长uuid。

* 打包事务时，要增加如下信息：
> + 事务打包时间，在CPS打包时做，需要改动事务格式；

* ===在秘钥存储表中增加一个字段，存储用户基本信息，基本信息和cc生成信息分离===


* 读取区块时，要向后进行hash校验，要向后校验多少个块应该是可以配置的
* 寻找OPENSSL的替代品，其他大公司的密码算法库实现；
* 采用新的merkel树算法：将区块均分为 N 块，将这N块作为叶子merkel树叶子节点，计算merkel书根（当前是将1个事务作为叶子节点计算merkel树根）；
* 查询时，可以指定peer-id；缺省peer-id无效，随机选择peer查询；
* 注册用户过程中，使用临时生成的对称秘钥进行通信；


# 第2期待做内容，扩展功能
* 多channel绑定在个chain的中台(小关前期做的工作)；
* 所有打包->加密，解密->解包的地方可以 尝试 封装出一个工具函数
* 创建information的提案执行时，一次可以创建多个information。

* __机器宕机后的恢复工具：从block-index+block恢复整个系统的数据__
* 

# 第3期待做内容，网管功能
* 业务网管
> 1. 动态增加channel后，XCS的路由可以动态更新
> 2. 动态增加peer后，order中的peer个数会更新
> 3. 分发区块失败时，要作为严重事件上报网管

* 到commiter的路由目前实现为读取数据表，不支持动态更新；将来要支持网管对路由的动态更新；
* 所有拆分失败或存储失败的信息都需要上报到业务网管，由运维人员介入



# 第4期待做内容，其他产品化功能

* 超大数据量裸设备存储：裸设备直接寻址时，支持的存储空间为2<sup>64</sup>B空间；在超大数据量时，需要考虑如何支持超过该数据量的存储空间。 __所有使用裸设备的地方都需要重新考虑—
* 过载保护
> + 在endorser处做过载保护：session数达到某个限制时，拒绝新到的hts请求；
> + 从order到endorser的返回流程中也考虑携带order的过载保护信息；__模型尚需要细化__
> + 增加基于liciense的过载保护；出于商业目的考量

* inner-cc的动态加载和卸载；

# 需要考虑的，有可能产品化都不需要的功能
* 打包事务时，要增加如下信息：
> + 都哪些peer通过了提案（peer签名/peer独特加密/仅peer-id）

* SDK要分两类：支持长连接；支持半长连接（手机用）
* 客户端和endorser的通信，支持会话机制；__目前的endorser端有密钥cache，会话机制对性能提升基本没有帮助，暂不实现__
* 提供C-API，支持python，js等做CC，（outer-cc）;
* c-api要同时支持同步接口和异步接口，以增加二次开发的便利性



